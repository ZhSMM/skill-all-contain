# 分布式

分布式中的每一个节点，都可以做集群，而集群不一定是分布式的。

远程调用：各个服务处于不同主机，不同主机服务之间的调用称为远程调用。Spring Cloud采用HTTP+JSON的方式完成远程调用。

负载均衡：使提供同一服务的服务器负载在合理范围。

- 轮询：为第一个请求选择健康池中的第一个后端服务器，然后按顺序依次选择，循环。
- 最小连接：优先选择连接数最小的服务器（压力最小），在会话较长的情况下可以考虑采用这种方式。
- 散列算法：根据请求IP的散列（hash）来选择要转发的服务器，一定程度上能保证用户能连接到相同的服务器。

服务注册/发现&注册中心

配置中心：用来集中管理微服务的配置信息

服务熔断&服务降级：

- 服务熔断：设置服务超时，当被调用的服务器经常失败达到阈值，开启断路保护机制，后端的请求不再去调用这个服务。本地直接返回默认的数据
- 服务降级：在运维期间，当系统处于高峰期，系统资源紧张，我们可以让非核心服务降级运行。降级：默写服务不处理，或简单处理【抛异常、返回、NULL、调用Mock数据、调用Fallback处理逻辑】

API网关：API Gateway作为整体架构的重要组件。抽象了微服务中都需要的功能，同时，提供了客户端负载均衡、服务器自动熔断、灰度发布、统一认证、限流流控、日志统计等丰富的功能。

